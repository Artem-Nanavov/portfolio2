(this.webpackJsonpfly=this.webpackJsonpfly||[]).push([[0],{22:function(e,t,a){e.exports={wrapper:"App__ticketItem_wrapper__3N3wO",header:"App__ticketItem_header__1km8Z",price:"App__ticketItem_price__tXMxE"}},24:function(e,t,a){e.exports={menu:"App__navigation_menu__2G_aY",border_r:"App__navigation_border_r__2FRMS",border_l:"App__navigation_border_l__IgvUI",link:"App__navigation_link__TOHsW",active:"App__navigation_active__3OHQJ"}},28:function(e,t,a){e.exports={wrapper:"App__checkbox_wrapper__aJLfC",title:"App__checkbox_title__1MPH2",container:"App__checkbox_container__1t4kp",body:"App__checkbox_body__3iWRP"}},3:function(e,t,a){e.exports={wrapper:"App__infoTicket__row_wrapper__5n7xc",box:"App__infoTicket__row_box__2kUYd",stops:"App__infoTicket__row_stops__3d9vV",title:"App__infoTicket__row_title__3KgV1",body:"App__infoTicket__row_body__1HpEZ",subTitle:"App__infoTicket__row_subTitle__3g3cb"}},47:function(e,t,a){e.exports=a.p+"static/media/Logo.0c089234.svg"},48:function(e,t,a){e.exports={wrapper:"App__nav_wrapper__3g7uE"}},54:function(e,t,a){e.exports=a(89)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},70:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),c=a.n(n),r=a(23),s=a.n(r),i=(a(59),a(60),a(16)),o=a(17),l=a(19),p=a(18),m=(a(61),a(47)),u=a.n(m),d=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("header",null,c.a.createElement("img",{src:u.a,alt:""}))}}]),a}(n.Component),_=a(50),h=a(48),v=a.n(h),E=a(29),b=a(33),k=a(28),f=a.n(k),g=a(108),N=a(109),w=function(e){var t=function(t){return function(a){e.setState(Object(b.a)(Object(b.a)({},e.state),{},Object(E.a)({},t,a.target.checked)))}};return c.a.createElement("div",{className:f.a.wrapper},c.a.createElement("div",{className:f.a.container},c.a.createElement("p",{className:f.a.title}," \u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a "),c.a.createElement("div",{className:f.a.body},c.a.createElement(N.a,{control:c.a.createElement(g.a,{checked:e.state.all,onChange:t("all"),value:"checkedA",color:"primary"}),label:"\u0412\u0441\u0435"}),c.a.createElement(N.a,{control:c.a.createElement(g.a,{checked:e.state.nonStop,onChange:t("nonStop"),value:"checkedB",color:"primary"}),label:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),c.a.createElement(N.a,{control:c.a.createElement(g.a,{checked:e.state.oneStop,onChange:t("oneStop"),value:"checkedC",color:"primary"}),label:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"}),c.a.createElement(N.a,{control:c.a.createElement(g.a,{checked:e.state.twoStops,onChange:t("twoStops"),value:"checkedD",color:"primary"}),label:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}),c.a.createElement(N.a,{control:c.a.createElement(g.a,{checked:e.state.threeStops,onChange:t("threeStops"),value:"checkedF",color:"primary"}),label:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}))))},y=a(24),O=a.n(y),j=a(21),x=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:O.a.menu},c.a.createElement(j.b,{className:"".concat(O.a.link),activeClassName:O.a.active,to:"/cheap"}," \u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439 "),c.a.createElement(j.b,{className:"".concat(O.a.link," ").concat(O.a.border_l),activeClassName:O.a.active,to:"/faster"}," \u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 "))}}]),a}(n.Component),S=(a(70),a(22)),T=a.n(S),A=a(3),C=a.n(A),I=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.segments;function t(e){var t=Date.parse(e),a=new Date(t);return"".concat(a.toLocaleTimeString().slice(0,-6)," ").concat(a.toLocaleTimeString().substr(-2,2))}function a(e,t){var a=60*t*100,n=new Date(Date.parse(e)+Number(a));return"".concat(n.toLocaleTimeString().slice(0,-6)," ").concat(n.toLocaleTimeString().substr(-2,2))}function n(e){return 0===e.length?"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":1===e.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":e.length>=2&&e.length<=4?"".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0434\u043a\u0438"):"".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")}function r(e){var t=(e/60).toFixed(2),a=.6*t.substr(-2,2),n=Number(t).toFixed(0);return 0===a?"".concat(n,"\u0447"):"".concat(n,"\u0447 ").concat(a.toFixed(0),"\u043c")}return c.a.createElement("div",{className:C.a.box},c.a.createElement("div",{className:C.a.wrapper},c.a.createElement("div",{className:C.a.container},c.a.createElement("div",{className:C.a.body},c.a.createElement("p",{className:C.a.title}," ",e[0].origin," - ",e[0].destination," "),c.a.createElement("p",{className:C.a.subTitle}," ",t(e[0].date)," - ",a(e[0].date,e[0].duration)," ")),c.a.createElement("div",{className:C.a.body},c.a.createElement("p",{className:C.a.title}," ",e[1].origin," - ",e[1].destination," "),c.a.createElement("p",{className:C.a.subTitle}," ",t(e[1].date)," - ",a(e[1].date,e[1].duration)," "))),c.a.createElement("div",{className:C.a.container},c.a.createElement("div",{className:C.a.body},c.a.createElement("p",{className:C.a.title}," \u0412 \u043f\u0443\u0442\u0438 "),c.a.createElement("p",{className:C.a.subTitle}," ",r(e[0].duration)," ")),c.a.createElement("div",{className:C.a.body},c.a.createElement("p",{className:C.a.title}," \u0412 \u043f\u0443\u0442\u0438 "),c.a.createElement("p",{className:C.a.subTitle}," ",r(e[1].duration)," "))),c.a.createElement("div",{className:C.a.container},c.a.createElement("div",{className:C.a.body},c.a.createElement("p",{className:C.a.title}," ",n(e[0].stops)," "),c.a.createElement("p",{className:C.a.subTitle}," ",e[0].stops.join(" ")," ")),c.a.createElement("div",{className:C.a.body},c.a.createElement("p",{className:C.a.title}," ",n(e[1].stops)," "),c.a.createElement("p",{className:C.a.subTitle}," ",e[1].stops.join(" ")," ")))))}}]),a}(n.Component),M=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.tickets;function a(e,t){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t||" ")}if(0!==this.props.tickets&&this.props.state){var n=t.filter((function(t){return(e.props.state.nonStop?0===t.segments[0].stops.length:t.price>=0)&&(e.props.state.oneStop?t.segments[0].stops.length<=1:t.price>=0)&&(e.props.state.twoStops?t.segments[0].stops.length<=2:t.price>=0)&&(e.props.state.threeStops?t.segments[0].stops.length>=0:t.price>=0)}));return c.a.createElement("div",null,n.map((function(e){return c.a.createElement("div",{className:T.a.wrapper},c.a.createElement("div",{className:T.a.header},c.a.createElement("p",{className:T.a.price}," ",a(e.price)," \u0420 "),c.a.createElement("div",null,c.a.createElement("img",{src:"//pics.avs.io/99/36/".concat(e.carrier,".png"),alt:""}))),c.a.createElement("div",{className:T.a.subHeader},c.a.createElement(I,{segments:e.segments})))})))}return c.a.createElement("div",null,t.map((function(e){return c.a.createElement("div",{className:T.a.wrapper},c.a.createElement("div",{className:T.a.header},c.a.createElement("p",{className:T.a.price}," ",a(e.price)," \u0420 "),c.a.createElement("div",null,c.a.createElement("img",{src:"//pics.avs.io/99/36/".concat(e.carrier,".png"),alt:""}))),c.a.createElement("div",{className:T.a.subHeader},c.a.createElement(I,{segments:e.segments})))})))}}]),a}(n.Component),H=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(M,{state:this.props.state,tickets:this.props.tickets}))}}]),a}(n.Component),L=a(4),D=function(e){var t=c.a.useState({all:!1,nonStop:!1,oneStop:!1,twoStops:!1,threeStops:!1}),a=Object(_.a)(t,2),n=a[0],r=a[1];return c.a.createElement(j.a,null,c.a.createElement("div",{className:v.a.wrapper},c.a.createElement(w,{state:n,setState:r}),c.a.createElement("div",null,c.a.createElement(x,null),c.a.createElement("div",null,c.a.createElement(L.a,{exact:!0,path:"/",render:function(){return c.a.createElement(H,{state:n,tickets:e.state.tickets})}}),c.a.createElement(L.a,{exact:!0,path:"/cheap",render:function(){return c.a.createElement(H,{tickets:e.state.minCheapTickets})}}),c.a.createElement(L.a,{exact:!0,path:"/faster",render:function(){return c.a.createElement(H,{tickets:e.state.minPriceTickets})}})))))};var F=function(e){return c.a.createElement(j.a,{history:s.a},c.a.createElement("header",{className:"header"},c.a.createElement(d,null)),c.a.createElement("nav",null,c.a.createElement(D,{state:e.state})))},P=a(36),B=a.n(P),J=a(49),W=a(37),R=a.n(W),U={tickets:[],minCheapTickets:[],minPriceTickets:[]};(function(){var e=Object(J.a)(B.a.mark((function e(t,a,n,c,r){var s,i,o,l,p,m,u,d,_,h;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://front-test.beta.aviasales.ru/search");case 3:return s=e.sent,e.next=6,s.data;case 6:return i=e.sent,o="https://front-test.beta.aviasales.ru/tickets?searchId=".concat(i.searchId),e.next=10,R.a.get(o);case 10:for(l=e.sent,console.log(l),U.tickets=l.data.tickets,p=[],m=[],u=0;u<l.data.tickets.length;u++)p.push(l.data.tickets[u].price),m.push(l.data.tickets[u].segments[0].duration);for(d=Math.min.apply(Math,p),_=Math.min.apply(Math,m),h=0;h<l.data.tickets.length;h++)l.data.tickets[h].price===d&&U.minCheapTickets.push(l.data.tickets[h]),l.data.tickets[h].segments[0].duration===_&&U.minPriceTickets.push(l.data.tickets[h]);Y(U),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,a,n,c,r){return e.apply(this,arguments)}})()();var V=U,Y=function(){s.a.render(c.a.createElement(j.a,null,c.a.createElement(F,{state:V})),document.getElementById("root"))};Y(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.a09dfc34.chunk.js.map